#!/bin/bash

dpkg-buildpackage -us -uc -b
# dpkg-buildpackage: source package libfreefare
# dpkg-buildpackage: source version 0.4.0-2buxy1
# dpkg-buildpackage: source distribution UNRELEASED
# dpkg-buildpackage: source changed by Raphael Hertzog <buxy@kali.org>
# dpkg-buildpackage: host architecture amd64
# [...]
#  dh_builddeb
# dpkg-deb: building package 'libfreefare0-dbgsym' in '../libfreefare0-dbgsym_0.4.0-2buxy1_amd64.deb'.
# dpkg-deb: building package 'libfreefare0' in '../libfreefare0_0.4.0-2buxy1_amd64.deb'.
# dpkg-deb: building package 'libfreefare-dev' in '..libfreefare-dev_0.4.0-2buxy1_amd64.deb'.
# dpkg-deb: building package 'libfreefare-bin-dbgsym' in '../libfreefare-bin-dbgsym_0.4.0-2buxy1_amd64.deb'.
# dpkg-deb: building package 'libfreefare-bin' in '../libfreefare-bin_0.4.0-2buxy1_amd64.deb'.
# dpkg-deb: building package 'libfreefare-doc' in '../libfreefare-doc_0.4.0-2buxy1_amd64.deb'.
# dpkg-genchanges -b >../libfreefare_0.4.0-2buxy1_amd64.changes
# dpkg-genchanges: binary-only upload (no source code include)
# dpkg-source --after-build libfreefare-0.4.0
# dpkg-buildpackage: binary-only upload (no source include)

sudo apt-get install ../libfreefare0_0.4.0-2buxy1_amd64.deb \ 
 ../libfreefare-bin_0.4.0-2buxy1_amd64.deb
# Reading package lists... Done
# Building dependency tree
# Reading state inforamtion... Done
# Note, selecting 'libfreefare0' instead of '../libfreefare0_0.4.0-2buxy1_amd64'
# Note, selecting 'libfreefare-bin' instead of '../libfreefare-bin_0.4.0-2buxy1_amd64.deb'
# The following packages will be upgraded: libfreedare-bin libfreefare0
# 2 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
# Need to get 0 B/69,4 kB of archives.

# After this operation, 2 048 B of additional disk space will be used.
# [...]

dpkg-buildpackage -us -uc
# dpkg-buildpackage: info: source package offsec-defaults
# dpkg-buildpackage: info: source version 1.0
# dpkg-buildpackage: info: source distribution unstable
# dpkg-buildpackage: info: source changed by Raphael Hertzog <buxy@kali.org>
# dpkg-buildpackage: info: host architecture amd64
#	dpkg-source --before-build offsec-defaults-1.0
#	fakeroot debian/rules clean
# dh clean
#	dh_testdir
#	dh_auto_clean
#	dh_clean
# dpkg-source -b offsec-defaults-1.0
# dpkg-source: info: using source format '3.0(native)'
# dpkg-source: info: building offsec-defaults in offsec-defaults_1.0.tar.xr
# dpkg-source: info: building offsec-defaults in offsec-defaults_1.0.dsc
#	debian/rules build
# dh build
#	dh_testdir
#	dh_update_autotools_config
#	dh_auto_configure
#	dh_auto_build
#	dh_auto_test
# fakeroot debian/rules binary
# dh binary
#	dh_testroot
#	dh_prep
#	dh_auto_install
#	dh_install
#	dh_installdocs
#	dh_installchangelogs
#	debian/rules override_dh_installgsettings
# make[1]: Entering directory '/home/rhertzog/kali/kali-book/samples/offsec-defaults-1.0'
# dh_installgsetting --priority=90
# make[1]: Leaving directory '/home/rhertzog/kali/kali-book/samples/offsec-defaults-1.0'
#	dh_perl
# 	dh_link
# 	dh_strip_nondeterminism
# 	dh_compress
# 	dh_fixperms
# 	dh_installdeb
# 	dh_gencontrol
# 	dh_md5sums
# 	dh_builddeb
# dpkg-deb: building package 'offsec-defaults' in '../offsec-defaults_1.0_all.deb'.
# 	dpkg-genchanges >../offsec-defaults_1.0_amd64.changes
# dpkg-genchanges: info: including full source code in upload
# 	dpkg-source --after-build offsec-defaults-1.0
# dpkg-buildpackage: info: full upload; Debian-native package (full source is include)
